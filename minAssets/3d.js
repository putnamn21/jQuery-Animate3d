jQuery.fn.extend({animate3d:function(t){function e(t,e,a,n,r,s,i){var o,c,p,f,d;o=$(t).offset(),c=o.top,p=o.left,f=$(t).innerWidth(),d=$(t).innerHeight(),s(t,n,r,a,e,i),$(t).mousemove(function(t){var o=(t.pageX-p)/f-.5+n,u=(t.pageY-c)/d-.5+r;s(this,o,u,a,e,i)}),$(t).mouseleave(function(){s(this,n,r,a,e,i)})}function a(t,e,a,n,r,s){var i=a*n*-180,o=e*n*180,c=e*r,p=a*r;$(t).children().each(function(t,e){s(e,t,c,p,i,o)})}function n(t,e,a,n,r,s,i){var o=a*e,c=n*e;$(t).css("transform","translate("+o+"px ,"+c+"px) rotateX("+r+"deg) rotateY("+s+"deg)"),$(t).css("-webkit-transform","translate("+o+"px ,"+c+"px) rotateX("+r+"deg) rotateY("+s+"deg)")}var r={perspective:t.perspective||1e3,distance:t.distance||50,rotation:t.rotation||.5,startX:t.startX||0,startY:t.startY||0};$(this).each(function(t,s){$(s).css("perspective",r.perspective+"px"),e(s,r.distance,r.rotation,r.startX,r.startY,a,n)})}});